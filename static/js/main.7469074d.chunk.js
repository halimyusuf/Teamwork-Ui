(this.webpackJsonpteamwork=this.webpackJsonpteamwork||[]).push([[0],{15:function(e){e.exports=JSON.parse('{"a":"https://halim-teamwork.herokuapp.com/api/v1/"}')},46:function(e,t,a){e.exports=a(86)},51:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(41),s=a.n(c),o=(a(51),a(5)),i=a(6),l=a(8),u=a(7),m=a(9),p=a(21),d=a(10),h=a(3),f=a.n(h),b=a(23),v=a(11),g=a(13),O=function(){return n.a.createElement("div",{className:"create-btn"},n.a.createElement("button",null," ",n.a.createElement(g.b,{to:"/gif/new"},"Create Gif")," "),n.a.createElement("button",null," ",n.a.createElement(g.b,{to:"/article/new"},"Create Article ")," "))},E=function(e){var t=e.time,a=e.date,r=e.username;return n.a.createElement("div",{className:"comment_toolbar left-post-list"},n.a.createElement("div",{className:"comment_details"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("i",{className:"fa fa-clock-o"})," ",t),n.a.createElement("li",null,n.a.createElement("i",{className:"fa fa-calendar"})," ",a),n.a.createElement("li",null,n.a.createElement("i",{className:"fa fa-pencil"})," ",n.a.createElement("span",{className:"user"},r)))))};function y(e){return(e=(e=new Date(e)).toLocaleString()).split(", ")}var j=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"getLink",value:function(e,t){return t?"/article/".concat(e):"/gif/".concat(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.allPosts,r=t.handleDel,c=t.handleFlag,s=t.spamPage,o=t.user;return n.a.createElement("section",null,a.map((function(t){return n.a.createElement("div",{key:t.id,className:"a-post-list"},n.a.createElement("div",null,n.a.createElement("p",{className:"post-title"},n.a.createElement("span",{className:"post-type"},t.content?"Article":"Gif"," ")," ","\xa0",n.a.createElement(g.b,{to:e.getLink(t.id,t.content)},t.title))),n.a.createElement(E,{date:y(t.createdOn)[0],time:y(t.createdOn)[1],username:t.author}),n.a.createElement("div",{className:"owner-access"},n.a.createElement("div",null,t.content&&n.a.createElement("div",null,o.id===t.authorId&&n.a.createElement(n.a.Fragment,null,n.a.createElement(g.b,{to:"/edit/articles/".concat(t.id)},n.a.createElement("i",{className:"fa fa-edit"})),n.a.createElement("i",{onClick:function(){return r(t.id,"article")},className:"fa fa-trash"})),s&&n.a.createElement("i",{onClick:function(){return c(t.id,"article")},className:"fa fa-flag"})),t.url&&n.a.createElement("div",null,o.id===t.authorId&&n.a.createElement("i",{onClick:function(){return r(t.id,"gif")},className:"fa fa-trash"}),s&&n.a.createElement("i",{onClick:function(){return c(t.id,"gif")},className:"fa fa-flag"})))))})))}}]),t}(r.Component),w=a(44),k=function(e){var t=Object(w.a)({},e);return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("input",Object.assign({},t,{type:"search",className:"form-control home-search",placeholder:"Search"})))))},N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.size,r=t.length,c=Math.ceil(r/a),s=[],o=0;o<c;o++)s[o]=o+1;return 1===s.length?null:n.a.createElement("div",{className:"pagination"},n.a.createElement("ul",null,s.map((function(t){return n.a.createElement("li",{key:t},n.a.createElement("button",{onClick:function(){return e.props.handlePag(t)}},t))}))))}}]),t}(r.Component);var x=a(19),S=a(22),P=a.n(S);var C={init:function(){},log:function(e){console.log(e)}},D=a(15),F=a(45),A=a.n(F),I="token";function T(){try{return A()(localStorage.getItem(I))}catch(e){return null}}function L(e){localStorage.setItem(I,e)}function q(e){return"".concat(D.a,"auth/").concat(e)}function B(){return(B=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.post(q("signin"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.post(q("create-user"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R={login:function(e){return B.apply(this,arguments)},register:function(e){return G.apply(this,arguments)},loginWithJwt:L,getCurrentUser:T};P.a.defaults.headers.common["tw-auth-token"]=localStorage.getItem("token"),P.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<=500||(C.log(e),d.b.error("An unexpected error occured")),Promise.reject(e)}));var U={get:P.a.get,post:P.a.post,patch:P.a.patch,delete:P.a.delete};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(){return U.get("".concat(D.a,"feeds"))}function z(e){return U.get("".concat(D.a,"articles/").concat(e))}function W(e){if(e.id){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return delete t.id,U.patch("".concat(D.a,"articles/").concat(e.id),t)}return U.post("".concat(D.a,"articles"),e)}function J(e){return U.delete("".concat(D.a,"articles/").concat(e))}function $(e){return U.patch("".concat(D.a,"articles/").concat(e,"/spam"))}function H(e){return U.patch("".concat(D.a,"gifs/").concat(e,"/spam"))}function Z(e){return U.get("".concat(D.a,"gifs/").concat(e))}function K(e){return U.post("".concat(D.a,"gifs"),e)}function Q(e){return U.delete("".concat(D.a,"gifs/").concat(e))}function V(e,t){return U.post("".concat(D.a,"gifs/").concat(e,"/comment"),t)}var X=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={allPosts:[],pageSize:10,currentPage:1,sortColumn:[{by:"title"},{by:"date"}],sortOrder:"desc",currSort:{by:"date"},search:"",type:""},a.handleDel=function(){var e=Object(v.a)(f.a.mark((function e(t,r){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=Object(b.a)(a.state.allPosts),"article"!==r){e.next=8;break}return e.next=5,J(t);case 5:c=n.filter((function(e){return e.content&&e.id!==t})),e.next=11;break;case 8:return e.next=10,Q(t);case 10:c=n.filter((function(e){return e.url&&e.id!==t}));case 11:a.setState({allPosts:c}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d.b.error("Post has already been deleted");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),a.handleFlag=function(){var e=Object(v.a)(f.a.mark((function e(t,r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"article"!==r){e.next=6;break}return e.next=4,$(t);case 4:e.next=8;break;case 6:return e.next=8,H(t);case 8:return e.next=10,_();case 10:n=e.sent,a.setState({allPosts:n.data.data}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d.b.error("Post has already been deleted");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),a.handlePag=function(e){a.setState({currentPage:e})},a.handleSort=function(e){var t=e.nativeEvent.target.selectedIndex,r=e.nativeEvent.target[t].value;a.setState({currSort:{by:r}})},a.handleType=function(e){a.setState({type:e})},a.handleSearch=function(e){var t=e.currentTarget.value;a.setState({search:t,currentPage:1})},a.handleSortOrder=function(e){var t=e.target.className.split("-")[2].split(" ")[0];a.setState({sortOrder:t})},a.renderSelectSort=function(){var e=a.state,t=e.sortOrder,r=e.sortColumn,c="asc"===t?"fa fa-sort-asc sortBackground":"fa fa-sort-asc",s="desc"===t?"fa fa-sort-desc sortBackground":"fa fa-sort-desc";return n.a.createElement("div",null,n.a.createElement("select",{onChange:a.handleSort,name:"sort",id:"sort"},n.a.createElement("option",{value:""},"Sort By"),r.map((function(e){return n.a.createElement("option",{key:e.by,value:e.by},e.by)}))),n.a.createElement("i",{onClick:a.handleSortOrder,className:c}),n.a.createElement("i",{onClick:a.handleSortOrder,className:s}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:t=e.sent,this.setState({allPosts:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d.b.error("Unexpected error");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderPosts",value:function(){var e=this.state,t=e.pageSize,a=e.currentPage,r=e.search,n=e.currSort,c=e.sortOrder,s=this.props.user,o=this.state.allPosts;"/spam"===this.props.match.path&&(o=o.filter((function(e){return e.spam>0}))),"gif"===this.state.type&&(o=o.filter((function(e){return e.url}))),"article"===this.state.type?o=o.filter((function(e){return e.content})):this.props.match.params&&this.props.match.params.username&&(o=o.filter((function(e){return e.authorId===s.id})));var i,l=o.filter((function(e){return-1!==e.title.toLowerCase().indexOf(r.toLowerCase())}));0!==n.by.length&&l.length>0&&("asc"===c?l.sort("date"===(i=n.by)?function(e,t){var a=new Date(e.createdOn).getTime(),r=new Date(t.createdOn).getTime();return a>r?1:a<r?-1:0}:function(e,t){return e[i].toLowerCase()>t[i].toLowerCase()?1:e[i].toLowerCase()<t[i].toLowerCase()?-1:0}):"desc"===c&&l.sort(function(e){return"date"===e?function(e,t){var a=new Date(e.createdOn).getTime(),r=new Date(t.createdOn).getTime();return a>r?-1:a<r?1:0}:function(t,a){return t[e].toLowerCase()>a[e].toLowerCase()?-1:t[e].toLowerCase()<a[e].toLowerCase()?1:0}}(n.by)));var u=function(e,t,a){var r=(t-1)*a;return e.slice(r,r+a)}(l,a,t);return{totalCount:l.length,posts:u}}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageSize,r=t.currentPage,c=t.search,s=t.type,o=this.props.user,i=this.renderPosts(),l=i.totalCount,u=i.posts,m="/spam"!==this.props.match.path;return n.a.createElement("div",{className:"home-left"},n.a.createElement(O,null),n.a.createElement("div",{className:"home-top"},n.a.createElement(k,{value:c,onChange:this.handleSearch}),n.a.createElement("div",{className:"sort"},this.renderSelectSort())),n.a.createElement("div",{className:"type-filter"},n.a.createElement("p",{className:""===s?"type-filter-active":"",onClick:function(){return e.handleType("")}},"All"),n.a.createElement("p",{className:"gif"===s?"type-filter-active":"",onClick:function(){return e.handleType("gif")}},"Gif"),n.a.createElement("p",{className:"article"===s?"type-filter-active":"",onClick:function(){return e.handleType("article")}},"Article")),n.a.createElement(j,{handleFlag:this.handleFlag,handleDel:this.handleDel,allPosts:u,spamPage:m,user:o}),n.a.createElement(N,{size:a,length:l,currentPage:r,handlePag:this.handlePag}))}}]),t}(r.Component),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e?e.username.replace(/\s+/g,"-").toLowerCase():"admin";return n.a.createElement("header",null,n.a.createElement("div",{className:"white"},n.a.createElement("div",{className:"top"},n.a.createElement("div",{className:"left-nav"},n.a.createElement(g.c,{to:"/",className:"home"}," ",n.a.createElement("span",{id:"app-name"},"Team"),"Work"," "),e&&n.a.createElement(n.a.Fragment,null,n.a.createElement(g.c,{to:"/logout",className:"nav-item"},"Logout"),n.a.createElement(g.c,{to:"/".concat(t,"/posts"),className:"nav-item"}," ","My posts"," ")),e&&e.isAdmin&&n.a.createElement(n.a.Fragment,null,n.a.createElement(g.c,{to:"/register",className:"nav-item"},"Register"),n.a.createElement(g.c,{to:"/spam",className:"nav-item"},"Spam"))),n.a.createElement("div",{className:"nav"},n.a.createElement("p",{className:"user-name"},n.a.createElement("span",null," ",n.a.createElement("i",{className:"fa fa-user"})),e&&e.username," ")))))}}]),t}(r.Component),ee=a(12),te=a.n(ee),ae=a(24),re=function(e){var t=e.name,a=e.label,r=e.error,c=Object(ae.a)(e,["name","label","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("input",Object.assign({name:t,id:t,placeholder:a,className:"form-control"},c)),r&&n.a.createElement("small",{className:"danger"},r))},ne=function(e){var t=e.name,a=e.label,r=e.error,c=e.options,s=Object(ae.a)(e,["name","label","error","options"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("select",Object.assign({name:t,className:"form-control",id:t},s),n.a.createElement("option",{value:""}),c.map((function(e){return n.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r&&n.a.createElement("small",{className:"danger"},r))},ce=function(e){var t=e.name,a=e.error,r=Object(ae.a)(e,["name","error"]);return n.a.createElement("div",{className:"form-group"},n.a.createElement("textarea",Object.assign({name:t},r)),a&&n.a.createElement("small",{className:"danger"},a))};function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={data:{},errors:{}},a.validate=function(){var e=te.a.validate(a.state.data,a.schema,{abortEarly:!1});if(!e.error)return null;var t={},r=!0,n=!1,c=void 0;try{for(var s,o=e.error.details[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var i=s.value;t[i.path[0]]=i.message}}catch(l){n=!0,c=l}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return t},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.doSubmit()},a.validateProperty=function(e,t){var r=Object(x.a)({},e,a.schema[e]),n=Object(x.a)({},e,t),c=te.a.validate(n,r).error;return c?c.details[0].message:null},a.handleChange=function(e){var t=e.currentTarget,r=t.value;t.files&&a.setState({image:t.files[0]});var n=oe({},a.state.errors),c=a.validateProperty(t.name,r);c?n[t.name]=c:delete n[t.name];var s=oe({},a.state.data);s[t.name]=r,a.setState({data:s,errors:n})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderButton",value:function(e){return n.a.createElement("button",{disabled:this.validate()},e)}},{key:"selectField",value:function(e,t,a){var r=this.state,c=r.data,s=r.errors;return n.a.createElement(ne,{name:e,label:t,options:a,onChange:this.handleChange,value:c[e],error:s[e]})}},{key:"inputField",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=this.state,s=c.data,o=c.errors;return n.a.createElement(re,{type:a,name:e,value:s[e],label:t,placeholder:r,onChange:this.handleChange,error:o[e]})}},{key:"renderTextArea",value:function(e,t){var a=this.state,r=a.data,c=a.errors;return n.a.createElement(ce,{value:r[e],name:e,placeholder:t,onChange:this.handleChange,error:c[e]})}}]),t}(r.Component),le={firstName:te.a.string().min(3).required().label("Firstname"),lastName:te.a.string().min(3).required().label("Lastname"),email:te.a.string().email().required().label("Email"),password:te.a.string().regex(/(?!^[0-9]*$)(?!^[a-zA-Z]*$)^([a-zA-Z0-9]{7,50})$/).error((function(){return{message:"Password must be at least 7 characters long with at least a digit"}})),address:te.a.string().min(10).required().label("Address"),gender:te.a.string().required(),jobRole:te.a.string().required(),department:te.a.string().required()},ue={email:te.a.string().email().required().label("Email"),password:te.a.string().min(7).required().label("Password")},me={title:te.a.string().min(10).required().label(" Gif Title"),image:te.a.any().required().label("Image/Gif")},pe={title:te.a.string().min(10).required().label("Title"),article:te.a.string().min(20).required().label("Article"),category:te.a.string().min(5).required().label("Tag"),id:te.a.any()},de={comment:te.a.string().min(5).required().label("Comment")};var he=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={data:{comment:""},errors:{}},a.schema=de,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"doSubmit",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.data,e.prev=1,!this.props.articleId){e.next=8;break}return e.next=5,r=this.props.articleId,n=t,U.post("".concat(D.a,"articles/").concat(r,"/comment"),n);case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,V(this.props.gifId,t);case 10:a=e.sent;case 11:this.setState({data:{comment:""}}),this.props.handleComment(a.data.data),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),d.b.error("Unexpected error");case 18:case"end":return e.stop()}var r,n}),e,this,[[1,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.comments;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"new_comment"},n.a.createElement("form",{action:"",onSubmit:this.handleSubmit},this.renderTextArea("comment","Write comment here."),this.renderButton("Submit"))),n.a.createElement("div",{className:"comments"},e.map((function(e){return n.a.createElement("div",{key:e.id},n.a.createElement("div",{className:"user_avatar"},n.a.createElement("img",{src:"https://images.unsplash.com/photo-1530982011887-3cc11cc85693?ixlib=rb-1.2.1&dpr=1&auto=format&fit=crop&w=416&h=312&q=60",alt:" "})),n.a.createElement("div",{className:"comment_body"},n.a.createElement("p",null,e.comment)),n.a.createElement(E,{time:y(e.createdOn)[1],date:y(e.createdOn)[0],username:e.author}))})),n.a.createElement("div",{className:"user_avatar"},n.a.createElement("img",{src:"https://images.unsplash.com/photo-1530982011887-3cc11cc85693?ixlib=rb-1.2.1&dpr=1&auto=format&fit=crop&w=416&h=312&q=60",alt:" "})),n.a.createElement("div",{className:"comment_body"},n.a.createElement("p",null,"Gastropub cardigan jean shorts, kogi Godard PBR&B lo-fi locavore. Organic chillwave vinyl Neutra. Bushwick Helvetica cred freegan, crucifix Godard craft beer deep v mixtape cornhole Truffaut master cleanse pour-over Odd Future beard. Portland polaroid iPhone.")),n.a.createElement(E,{time:"17:37",date:"04/11/2019",username:"halim yusuf"}),n.a.createElement("div",{className:"user_avatar"},n.a.createElement("img",{src:"https://images.unsplash.com/photo-1530982011887-3cc11cc85693?ixlib=rb-1.2.1&dpr=1&auto=format&fit=crop&w=416&h=312&q=60",alt:" "})),n.a.createElement("div",{className:"comment_body"},n.a.createElement("p",null,"Gastropub cardigan jean shorts, kogi Godard PBR&B lo-fi locavore. Organic chillwave vinyl Neutra. Bushwick Helvetica cred freegan, crucifix Godard craft beer deep v mixtape cornhole Truffaut master cleanse pour-over Odd Future beard. Portland polaroid iPhone.")),n.a.createElement(E,{time:"17:37",date:"04/11/2019",username:"halim yusuf"})))}}]),t}(ie),fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={post:{},comments:[]},a.handleComment=function(e){var t=[e].concat(Object(b.a)(a.state.comments));a.setState({comments:t})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,e.next=4,z(t);case 4:a=e.sent,this.setState({post:a.data.data,comments:a.data.data.comments}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(d.b)("Unexpected error");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.post,a=e.comments,r=this.props.user;return n.a.createElement("div",null,n.a.createElement("article",null,n.a.createElement("h3",null,t.title),n.a.createElement("p",null,t.article)),n.a.createElement(E,{time:t.createdOn,date:"04/11/2019",username:r&&r.username}),n.a.createElement("div",{className:"all-comments"},n.a.createElement("h5",null,"Comments"),n.a.createElement(he,{handleComment:this.handleComment,comments:a,articleId:t.articleId})))}}]),t}(r.Component);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={data:{title:"",article:"",category:"",id:""},errors:{}},a.schema=pe,a.doSubmit=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(a.state.data);case 3:t=e.sent,a.props.history.push("/"),Object(d.b)(t.data.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.b.error("Unexpected error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.match.params.id){e.next=12;break}return e.prev=1,e.next=4,z(this.props.match.params.id);case 4:(t=(t=e.sent).data.data)&&((a=ve({},this.state.data)).title=t.title,a.article=t.article,a.category=t.category,a.id=t.articleId,this.setState({data:a})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),d.b.error("Unexpected error");case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"post-form"},n.a.createElement("form",{onSubmit:this.handleSubmit},this.inputField("title","Title"),this.renderTextArea("article","Write article here"),this.inputField("category","Tag","text","Separate multiple tags with +"),this.renderButton("Submit")))}}]),t}(ie),Oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={data:{title:"",image:""},image:"",errors:{}},a.schema=me,a.doSubmit=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",a.state.image),t.append("title",a.state.data.title),e.prev=3,e.next=6,K(t);case 6:d.b.success("GIF image successfully posted"),a.props.history.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),d.b.error("Unexpected error");case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"post-form"},n.a.createElement("form",{onSubmit:this.handleSubmit},this.inputField("title","Title"),this.inputField("image","Gif/Image","file"),this.renderButton("Submit")))}}]),t}(ie),Ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={post:{},comments:[]},a.handleComment=function(e){var t=[e].concat(Object(b.a)(a.state.comments));a.setState({comments:t})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,e.next=4,Z(t);case 4:a=e.sent,this.setState({post:a.data.data,comments:a.data.data.comments}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.b.error("unexpected error");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.post,a=e.comments,r=this.props.user;return n.a.createElement("div",null,n.a.createElement("div",{className:"gif-post"},n.a.createElement("p",null,t.title),n.a.createElement("img",{src:t.url,alt:" "}),n.a.createElement(E,{time:y(t.createdOn)[1],date:y(t.createdOn)[0],username:r&&r.username})),n.a.createElement("div",{className:"all-comments"},n.a.createElement("h5",null,"Comments"),n.a.createElement(he,{handleComment:this.handleComment,comments:a,gifId:t.id})))}}]),t}(r.Component);function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var we=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={data:{email:"",password:""},errors:{}},a.schema=ue,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"doSubmit",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.login(this.state.data);case 3:L(e.sent.headers["tw-auth-token"]),window.location="/",e.next=21;break;case 8:if(e.prev=8,e.t0=e.catch(0),t=e.t0.response,a=je({},this.state.errors),404!==t.status||"Incorrect email"!==t.data.error){e.next=17;break}return a.email="Incorrect email",e.abrupt("return",this.setState({errors:a}));case 17:if(400!==t.status||"Incorrect password"!==t.data.error){e.next=20;break}return a.password="Incorrect password",e.abrupt("return",this.setState({errors:a}));case 20:d.b.error("Unexpected error");case 21:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"login-form"},n.a.createElement("div",{className:"form-head"},n.a.createElement("h4",null,"Login")),n.a.createElement("form",{onSubmit:this.handleSubmit},this.inputField("email","Email"),this.inputField("password","Password","password"),this.renderButton("Login")))}}]),t}(ie),ke=Object(p.g)(we),Ne=[{id:1,name:"Accounting manager"},{id:2,name:"Senior developer"},{id:3,name:"Strategy manager"},{id:4,name:"General manager"},{id:5,name:"Event manager"},{id:6,name:"Program Coordinator"},{id:7,name:"Legal counselor"},{id:8,name:"Android developer"},{id:9,name:"IOS protection officer"}],xe=[{id:1,name:"Human Resources"},{id:2,name:"Information technology"},{id:3,name:"Accounting"},{id:4,name:"Marketing"},{id:5,name:"Customer Services"},{id:6,name:"Operations"},{id:7,name:"Production"},{id:8,name:"Finance"}],Se=[{id:1,name:"Male"},{id:2,name:"Female"}];function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var De=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={data:{firstName:"",lastName:"",email:"",password:"",address:"",gender:"",jobRole:"",department:""},errors:{}},a.options={gender:Se,department:xe,jobRole:Ne},a.schema=le,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"doSubmit",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.register(this.state.data);case 3:this.props.history.push("/"),e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(0),400!==(t=e.t0.response).status||"User with email exists"!==t.data.error){e.next=13;break}return(a=Ce({},this.state.errors)).email="User with email exists",e.abrupt("return",this.setState({errors:a}));case 13:d.b.error("Unexpected error");case 14:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"login-form"},n.a.createElement("div",{className:"form-head"},n.a.createElement("h4",null,"Register")),n.a.createElement("form",{onSubmit:this.handleSubmit},this.inputField("firstName","Firstname"),this.inputField("lastName","Lastname"),this.inputField("email","Email"),this.inputField("password","Password","password"),this.inputField("address","Address"),this.selectField("gender","Gender",this.options.gender),this.selectField("jobRole","Job role",this.options.jobRole),this.selectField("department","Department",this.options.department),this.renderButton("Register")))}}]),t}(ie),Fe=function(){return n.a.createElement("div",{className:"footer"},n.a.createElement("div",{className:"my-info"},n.a.createElement("p",null,n.a.createElement("a",{href:"tel:+2347035508581"},n.a.createElement("i",{className:"fa fa-phone"})," "),n.a.createElement("a",{href:"tel:+2347035508581"},n.a.createElement("i",{className:"fa fa-whatsapp"})," "))),n.a.createElement("div",{className:"footer-body"},n.a.createElement("p",{className:"copyrights"},n.a.createElement("span",{className:"copy"},"\xa9")," 2019 Lagos Nigeria- All Rights Reserved"),n.a.createElement("p",{className:"terms-privacy"}," ",n.a.createElement(g.b,{to:""},"Terms ")," | ",n.a.createElement(g.b,{to:""},"Privacy "))))},Ae=(a(81),a(82),a(83),function(){localStorage.removeItem("token"),window.location="sign-in"}),Ie=function(){return n.a.createElement("div",{className:"not-found"},n.a.createElement("h1",null,"Not found"))},Te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=T();e&&this.setState({user:e})}},{key:"render",value:function(){var e=this.state.user;return n.a.createElement("div",{id:"page-container"},n.a.createElement(d.a,null),n.a.createElement(Y,{user:e}," ")," ",n.a.createElement("div",{id:"content-wrap"},n.a.createElement(p.d,null,n.a.createElement(p.b,{path:"/sign-in",component:ke}),n.a.createElement(p.b,{path:"/logout",exact:!0,component:Ae}),n.a.createElement(p.b,{path:"/",exact:!0,render:function(t){return n.a.createElement(X,Object.assign({user:e&&e},t))}}),e&&e.isAdmin&&n.a.createElement(p.b,{path:"/spam",render:function(t){return n.a.createElement(X,Object.assign({user:e},t))}}),e&&e.isAdmin&&n.a.createElement(p.b,{path:"/register",component:De}),n.a.createElement(p.b,{path:"/:username?/posts",render:function(t){return n.a.createElement(X,Object.assign({user:e},t))}}),n.a.createElement(p.b,{path:"/edit/articles/:id",component:ge}),n.a.createElement(p.b,{path:"/article/new",component:ge}),n.a.createElement(p.b,{path:"/gif/new",component:Oe}),n.a.createElement(p.b,{path:"/article/:id",render:function(t){return n.a.createElement(fe,Object.assign({user:e},t))}}),n.a.createElement(p.b,{path:"/gif/:id",render:function(t){return n.a.createElement(Ee,Object.assign({user:e},t))}}),n.a.createElement(p.b,{path:"/not-found",component:Ie}),n.a.createElement(p.a,{to:"/not-found"}))," ")," ",n.a.createElement(Fe,null))}}]),t}(r.Component);a(84),a(85),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(g.a,null,n.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.7469074d.chunk.js.map